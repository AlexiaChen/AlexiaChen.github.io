<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>用马尔科夫链来做自动补全 | MathxH&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="前言 马尔科夫链是个什么呢？如果你去网上搜索， 噼里啪啦一堆公式，可能你会看的不耐烦了。当然，你可能见到有些人总结了一句经典的话，比如：  如果将下一个状态的依赖条件，简化成：仅取决于当前状态，和之前其他状态无关。那么，这个随机过程就是马尔可夫链。  今天的事情只取决于昨天，而明天的事情只取决于今天，与历史毫无关联   当然，你可以在知乎这里看到更多的解释。 这样的性质就给我们带来了预测下一个状态">
<meta name="keywords" content="马尔科夫链,自然语言处理">
<meta property="og:type" content="article">
<meta property="og:title" content="用马尔科夫链来做自动补全">
<meta property="og:url" content="https://alexiachen.github.io/blog/2019/03/10/auto-complete-markov-chain/index.html">
<meta property="og:site_name" content="MathxH&#39;s Blog">
<meta property="og:description" content="前言 马尔科夫链是个什么呢？如果你去网上搜索， 噼里啪啦一堆公式，可能你会看的不耐烦了。当然，你可能见到有些人总结了一句经典的话，比如：  如果将下一个状态的依赖条件，简化成：仅取决于当前状态，和之前其他状态无关。那么，这个随机过程就是马尔可夫链。  今天的事情只取决于昨天，而明天的事情只取决于今天，与历史毫无关联   当然，你可以在知乎这里看到更多的解释。 这样的性质就给我们带来了预测下一个状态">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-03-10T11:34:33.601Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="用马尔科夫链来做自动补全">
<meta name="twitter:description" content="前言 马尔科夫链是个什么呢？如果你去网上搜索， 噼里啪啦一堆公式，可能你会看的不耐烦了。当然，你可能见到有些人总结了一句经典的话，比如：  如果将下一个状态的依赖条件，简化成：仅取决于当前状态，和之前其他状态无关。那么，这个随机过程就是马尔可夫链。  今天的事情只取决于昨天，而明天的事情只取决于今天，与历史毫无关联   当然，你可以在知乎这里看到更多的解释。 这样的性质就给我们带来了预测下一个状态">
  
    <link rel="alternate" href="/blog/atom.xml" title="MathxH&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/blog/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">MathxH&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/blog/" id="subtitle">just life in general</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
          <a class="main-nav-link" href="/blog/about">About</a>
        
          <a class="main-nav-link" href="/blog/resume">Resume</a>
        
      </nav>
      <nav id="sub-nav">
        <a></a>
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://alexiachen.github.io/blog"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-auto-complete-markov-chain" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/03/10/auto-complete-markov-chain/" class="article-date">
  <time datetime="2019-03-10T07:26:00.000Z" itemprop="datePublished">2019-03-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      用马尔科夫链来做自动补全
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><hr>
<p>马尔科夫链是个什么呢？如果你去网上搜索， 噼里啪啦一堆公式，可能你会看的不耐烦了。当然，你可能见到有些人总结了一句经典的话，比如：</p>
<ul>
<li><p>如果将下一个状态的依赖条件，简化成：仅取决于当前状态，和之前其他状态无关。那么，这个随机过程就是马尔可夫链。</p>
</li>
<li><p>今天的事情只取决于昨天，而明天的事情只取决于今天，与历史毫无关联</p>
</li>
</ul>
<p>当然，你可以在<a href="https://www.zhihu.com/question/26665048" target="_blank" rel="noopener">知乎这里</a>看到更多的解释。</p>
<p>这样的性质就给我们带来了预测下一个状态带来了可能，比如天气预报，智能联想提示等等。</p>
<p>今天我们就用python来用马尔科夫链来做点有实际意义的事情，用更直观的角度理解它。</p>
<p>正文是我用python脚本来分析了一本英文书，把这本书的英文句子作为一个训练集，用<a href="https://en.wikipedia.org/wiki/Markov_chain" target="_blank" rel="noopener">马尔科夫链</a>来做处理产生短文，短文句子有一定“联想”，这样也可以算作是一个自动补全的程序了。比如，一些聊天工具和输入法可能就有这样的功能，基于你以前历史的语句输入来判断你当前输入后面可能会输入的单词或语句作提示或者补全。</p>
<p>网络社区也有一些爱好者用<a href="https://blog.csdn.net/renhaofan/article/details/82191387" target="_blank" rel="noopener">马尔科夫链来生成鸡汤文</a>， 都算是一定性质的科普文章。</p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><hr>
<p>首先，需要随便下载一个英文小说或者书籍来作为训练集合，英文当然越正宗越地道越好，这样的数据质量比较高，之后生成的段落语句结果也更好些。这里我下载了<a href="http://vdisk.weibo.com/s/uiFtZjZIxy3Gz" target="_blank" rel="noopener">哈利波特1-7的英文txt</a>。哈哈，英文原版我只读了第一部魔法石，惭愧啊。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># python 3! due to random.choices()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> operator, random</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">remove_empty_words</span><span class="params">(l)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> list(filter(<span class="keyword">lambda</span> a: a != <span class="string">''</span>, l))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update_occ</span><span class="params">(d, seq, w)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> seq <span class="keyword">not</span> <span class="keyword">in</span> d:</span><br><span class="line">        d[seq]=defaultdict(int)</span><br><span class="line"></span><br><span class="line">    d[seq][w]=d[seq][w]+<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># https://docs.python.org/3/library/random.html#random.choice</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gen_random_from_table</span><span class="params">(t)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> random.choices(list(t.keys()), weights=list(t.values()))[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">process</span><span class="params">()</span>:</span> </span><br><span class="line">    <span class="keyword">with</span> open (<span class="string">"harry-potter.txt"</span>, <span class="string">"r"</span>) <span class="keyword">as</span> myfile:</span><br><span class="line">        data=myfile.read()</span><br><span class="line"></span><br><span class="line">    sentences=data.lower().replace(<span class="string">'\r'</span>,<span class="string">' '</span>).replace(<span class="string">'\n'</span>,<span class="string">' '</span>).replace(<span class="string">'?'</span>,<span class="string">'.'</span>).replace(<span class="string">'!'</span>,<span class="string">'.'</span>).replace(<span class="string">'“'</span>,<span class="string">'.'</span>).replace(<span class="string">'”'</span>,<span class="string">'.'</span>).replace(<span class="string">"\""</span>,<span class="string">"."</span>).replace(<span class="string">'‘'</span>,<span class="string">' '</span>).replace(<span class="string">'-'</span>,<span class="string">' '</span>).replace(<span class="string">'’'</span>,<span class="string">' '</span>).replace(<span class="string">'\''</span>,<span class="string">' '</span>).split(<span class="string">"."</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># key=list of words, as a string, delimited by space</span></span><br><span class="line">    <span class="comment">#     (I would use list of strings here as key, but list in not hashable)</span></span><br><span class="line">    <span class="comment"># val=dict, k: next word; v: occurrences</span></span><br><span class="line">    first=&#123;&#125;</span><br><span class="line">    second=&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> sentences:</span><br><span class="line">        words=s.replace(<span class="string">','</span>,<span class="string">' '</span>).split(<span class="string">" "</span>)</span><br><span class="line">        words=remove_empty_words(words)</span><br><span class="line">        <span class="keyword">if</span> len(words)==<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(words)):</span><br><span class="line">            <span class="keyword">if</span> i&gt;=<span class="number">1</span>:</span><br><span class="line">                update_occ(first, words[i<span class="number">-1</span>], words[i])</span><br><span class="line">            <span class="keyword">if</span> i&gt;=<span class="number">2</span>:</span><br><span class="line">                update_occ(second, words[i<span class="number">-2</span>]+<span class="string">" "</span>+words[i<span class="number">-1</span>], words[i])</span><br><span class="line"></span><br><span class="line">    text=[<span class="string">"magic"</span>, <span class="string">"is"</span>]</span><br><span class="line"></span><br><span class="line">    text_len=len(text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">200</span>):</span><br><span class="line"></span><br><span class="line">        last_idx=text_len<span class="number">-1</span></span><br><span class="line"></span><br><span class="line">        tmp=text[last_idx<span class="number">-1</span>]+<span class="string">" "</span>+text[last_idx]</span><br><span class="line">        <span class="keyword">if</span> tmp <span class="keyword">in</span> second:</span><br><span class="line">            new_word=gen_random_from_table(second[tmp])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># fall-back to 1st order</span></span><br><span class="line">            tmp2=text[last_idx]</span><br><span class="line">            <span class="keyword">if</span> tmp2 <span class="keyword">not</span> <span class="keyword">in</span> first:</span><br><span class="line">                <span class="comment"># dead-end</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            new_word=gen_random_from_table(first[tmp2])</span><br><span class="line"></span><br><span class="line">        text.append(new_word)</span><br><span class="line">        text_len=text_len+<span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">print</span> (<span class="string">" "</span>.join(text))</span><br><span class="line"></span><br><span class="line"><span class="comment"># main function</span></span><br><span class="line">process()</span><br></pre></td></tr></table></figure>
<p>运行以上代码，就可以生成一个150来个单词的”联想”短文了:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">magic is not having practised vanishing spells horribly difficult at first but they two thousand racing broom tampering and torture; </span><br><span class="line">an interview said harry leaping to their bulky backpacks the nine of the cottages were fewer here and make it too far; </span><br><span class="line">it rolled over toward him holding a wand to shoulder wands raised james glancing over his head pound so he went as red as ron who clambered to</span><br><span class="line"> his determination to shut his eyes wanting to know anything new right before you go upstairs with ron eating their way around the walls and </span><br><span class="line"> all their shock and exhaustion that the phoenix but after a few horrible seconds he did to open the lestranges vault only once a month </span><br><span class="line"> later harry kept his eyes was twitching slightly hair whipped back off the </span><br><span class="line"> pitch but all three of my followers would give better cover they extinguished their fire then he sat down when something of a voice </span><br><span class="line"> and called out of pure venom at harry his temper getting the exit and when sounds of someone stumbling ftom a room like a venomous bubble compressing his lungs driving all other concerns fled </span><br><span class="line"> harry s head with a large fir tree blocking the top</span><br></pre></td></tr></table></figure>
<p>当然这段短文有点狗屁不通，甚至有点搞笑，我们现在先不管。</p>
<p>我们先来看看代码中的first和second变量，它们是一个字典。</p>
<p>first变量表示第一个单词后出现的单词的概率统计，这是一阶马尔科夫链生成的数据结果。</p>
<p>我们通过python把first的结果排序打印出来好了:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> (<span class="string">"first table:"</span>)</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> first:</span><br><span class="line">    <span class="keyword">print</span> (k)</span><br><span class="line">    <span class="comment"># https://stackoverflow.com/questions/613183/how-do-i-sort-a-dictionary-by-value</span></span><br><span class="line">    s=sorted(first[k].items(), key=operator.itemgetter(<span class="number">1</span>), reverse=<span class="keyword">True</span>)</span><br><span class="line">    <span class="keyword">print</span> (s[:<span class="number">20</span>])</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">""</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">harry</span><br><span class="line">[(&apos;s&apos;, 1344), (&apos;and&apos;, 776), (&apos;had&apos;, 657), (&apos;was&apos;, 475), (&apos;could&apos;, 400), (&apos;potter&apos;, 385), (&apos;said&apos;, 358), (&apos;saw&apos;, 271), (&apos;looked&apos;, 241), (&apos;felt&apos;, 238), (&apos;ron&apos;, 233), (&apos;who&apos;, 201), (&apos;thought&apos;, 172), (&apos;asked&apos;, 163), (&apos;as&apos;, 160), (&apos;knew&apos;, 156), (&apos;did&apos;, 125), (&apos;i&apos;, 115), (&apos;to&apos;, 108), (&apos;in&apos;, 106)]</span><br><span class="line"></span><br><span class="line">potter</span><br><span class="line">[(&apos;and&apos;, 63), (&apos;s&apos;, 59), (&apos;said&apos;, 28), (&apos;is&apos;, 26), (&apos;you&apos;, 23), (&apos;has&apos;, 21), (&apos;i&apos;, 18), (&apos;the&apos;, 17), (&apos;was&apos;, 13), (&apos;he&apos;, 13), (&apos;sir&apos;, 13), (&apos;will&apos;, 10), (&apos;had&apos;, 10), (&apos;she&apos;, 10), (&apos;in&apos;, 9), (&apos;must&apos;, 9), (&apos;that&apos;, 9), (&apos;stinks&apos;, 7), (&apos;not&apos;, 6), (&apos;come&apos;, 5)]</span><br><span class="line"></span><br><span class="line">and</span><br><span class="line">[(&apos;the&apos;, 1225), (&apos;hermione&apos;, 954), (&apos;he&apos;, 907), (&apos;harry&apos;, 662), (&apos;a&apos;, 605), (&apos;then&apos;, 554), (&apos;ron&apos;, 550), (&apos;i&apos;, 541), (&apos;his&apos;, 363), (&apos;george&apos;, 341), (&apos;it&apos;, 298), (&apos;they&apos;, 289), (&apos;you&apos;, 253), (&apos;she&apos;, 243), (&apos;was&apos;, 232), (&apos;that&apos;, 211), (&apos;there&apos;, 190), (&apos;saw&apos;, 187), (&apos;said&apos;, 171), (&apos;looked&apos;, 161)]</span><br><span class="line"></span><br><span class="line">the</span><br><span class="line">[(&apos;door&apos;, 770), (&apos;dark&apos;, 637), (&apos;room&apos;, 629), (&apos;other&apos;, 548), (&apos;ministry&apos;, 477), (&apos;first&apos;, 455), (&apos;floor&apos;, 408), (&apos;same&apos;, 386), (&apos;way&apos;, 362), (&apos;end&apos;, 362), (&apos;castle&apos;, 358), (&apos;air&apos;, 334), (&apos;ground&apos;, 326), (&apos;only&apos;, 326), (&apos;back&apos;, 317), (&apos;last&apos;, 296), (&apos;table&apos;, 292), (&apos;rest&apos;, 284), (&apos;front&apos;, 263), (&apos;death&apos;, 260)]</span><br><span class="line"></span><br><span class="line">sorcerer</span><br><span class="line">[(&apos;s&apos;, 24), (&apos;in&apos;, 3), (&apos;of&apos;, 1), (&apos;spoke&apos;, 1)]</span><br></pre></td></tr></table></figure>
<p>好了，我们现在再来看看second变量的结果，它表示两个单词之后出现的每个单词的概率统计，这是二阶马尔科夫链的结果，依次类推，还有3阶马尔科夫链，只不过代码里面没写。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> (<span class="string">"second table:"</span>)</span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> second:</span><br><span class="line">        <span class="keyword">print</span> (k)</span><br><span class="line">        <span class="comment"># https://stackoverflow.com/questions/613183/how-do-i-sort-a-dictionary-by-value</span></span><br><span class="line">        s=sorted(second[k].items(), key=operator.itemgetter(<span class="number">1</span>), reverse=<span class="keyword">True</span>)</span><br><span class="line">        <span class="keyword">print</span> (s[:<span class="number">20</span>])</span><br><span class="line">        <span class="keyword">print</span> (<span class="string">""</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">which made</span><br><span class="line">[(&apos;the&apos;, 3), (&apos;it&apos;, 2), (&apos;harry&apos;, 2), (&apos;drills&apos;, 1), (&apos;professor&apos;, 1), (&apos;ginny&apos;, 1), (&apos;his&apos;, 1), (&apos;ron&apos;, 1), (&apos;him&apos;, 1), (&apos;a&apos;, 1)]</span><br><span class="line"></span><br><span class="line">he was</span><br><span class="line">[(&apos;going&apos;, 96), (&apos;not&apos;, 88), (&apos;a&apos;, 66), (&apos;still&apos;, 65), (&apos;sure&apos;, 50), (&apos;in&apos;, 47), (&apos;doing&apos;, 43), (&apos;the&apos;, 42), (&apos;looking&apos;, 40), (&apos;wearing&apos;, 38), (&apos;so&apos;, 32), (&apos;about&apos;, 29), (&apos;trying&apos;, 29), (&apos;on&apos;, 27), (&apos;being&apos;, 25), (&apos;very&apos;, 22), (&apos;lying&apos;, 22), (&apos;standing&apos;, 22), (&apos;too&apos;, 19), (&apos;supposed&apos;, 19)]</span><br><span class="line"></span><br><span class="line">was a</span><br><span class="line">[(&apos;very&apos;, 48), (&apos;loud&apos;, 39), (&apos;pause&apos;, 35), (&apos;great&apos;, 35), (&apos;long&apos;, 25), (&apos;bit&apos;, 22), (&apos;little&apos;, 20), (&apos;good&apos;, 19), (&apos;large&apos;, 16), (&apos;moment&apos;, 16), (&apos;flash&apos;, 15), (&apos;few&apos;, 14), (&apos;small&apos;, 14), (&apos;tiny&apos;, 13), (&apos;wizard&apos;, 12), (&apos;bang&apos;, 12), (&apos;nasty&apos;, 11), (&apos;knock&apos;, 11), (&apos;sudden&apos;, 11), (&apos;lot&apos;, 10)]</span><br><span class="line"></span><br><span class="line">a big</span><br><span class="line">[(&apos;mistake&apos;, 3), (&apos;deal&apos;, 3), (&apos;plastic&apos;, 2), (&apos;supporter&apos;, 2), (&apos;party&apos;, 2), (&apos;man&apos;, 2), (&apos;beefy&apos;, 1), (&apos;city&apos;, 1), (&apos;argument&apos;, 1), (&apos;old&apos;, 1), (&apos;photograph&apos;, 1), (&apos;green&apos;, 1), (&apos;lumpy&apos;, 1), (&apos;black&apos;, 1), (&apos;red&apos;, 1), (&apos;thing&apos;, 1), (&apos;drop&apos;, 1), (&apos;enough&apos;, 1), (&apos;bet&apos;, 1), (&apos;bearded&apos;, 1)]</span><br><span class="line"></span><br><span class="line">big beefy</span><br><span class="line">[(&apos;man&apos;, 1)]</span><br></pre></td></tr></table></figure>
<p>好了，这里先暂时止步探索，你会发现二阶马尔科夫链的结果更加精确，生成的数据集也更加小。这不废话嘛，就像猜谜语一样，提示给的越精确越多，那么你猜中的概率越大，解的空间范围就缩小了，second表也就更小了。哈哈，开始有点意思了。</p>
<p>好的，我们现在在二阶马尔科夫链的基础上加入3阶马尔科夫链，按照2阶的代码修改就行了：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">first=&#123;&#125;</span><br><span class="line">second=&#123;&#125;</span><br><span class="line">third=&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> s <span class="keyword">in</span> sentences:</span><br><span class="line">    words=s.replace(<span class="string">','</span>,<span class="string">' '</span>).split(<span class="string">" "</span>)</span><br><span class="line">    words=remove_empty_words(words)</span><br><span class="line">    <span class="keyword">if</span> len(words)==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(words)):</span><br><span class="line">        <span class="keyword">if</span> i&gt;=<span class="number">1</span>:</span><br><span class="line">            update_occ(first, words[i<span class="number">-1</span>], words[i])</span><br><span class="line">        <span class="keyword">if</span> i&gt;=<span class="number">2</span>:</span><br><span class="line">            update_occ(second, words[i<span class="number">-2</span>]+<span class="string">" "</span>+words[i<span class="number">-1</span>], words[i])</span><br><span class="line">        <span class="keyword">if</span> i&gt;=<span class="number">3</span>:</span><br><span class="line">            update_occ(third, words[i<span class="number">-3</span>]+<span class="string">" "</span>+words[i<span class="number">-2</span>]+<span class="string">" "</span>+words[i<span class="number">-1</span>],words[i])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">were proud to</span><br><span class="line">[(&apos;say&apos;, 1)]</span><br><span class="line"></span><br><span class="line">proud to say</span><br><span class="line">[(&apos;that&apos;, 1)]</span><br><span class="line"></span><br><span class="line">to say that</span><br><span class="line">[(&apos;he&apos;, 3), (&apos;she&apos;, 3), (&apos;i&apos;, 2), (&apos;they&apos;, 1), (&apos;s&apos;, 1), (&apos;you&apos;, 1), (&apos;his&apos;, 1), (&apos;from&apos;, 1), (&apos;your&apos;, 1), (&apos;at&apos;, 1), (&apos;on&apos;, 1), (&apos;age&apos;, 1), (&apos;dumbledore&apos;, 1), (&apos;it&apos;, 1)]</span><br><span class="line"></span><br><span class="line">say that they</span><br><span class="line">[(&apos;were&apos;, 1), (&apos;know&apos;, 1)]</span><br><span class="line"></span><br><span class="line">that they were</span><br><span class="line">[(&apos;not&apos;, 9), (&apos;all&apos;, 7), (&apos;there&apos;, 3), (&apos;going&apos;, 3), (&apos;alone&apos;, 2), (&apos;being&apos;, 2), (&apos;indeed&apos;, 2), (&apos;in&apos;, 2), (&apos;a&apos;, 2), (&apos;the&apos;, 2), (&apos;still&apos;, 2), (&apos;supposed&apos;, 2), (&apos;no&apos;, 2), (&apos;really&apos;, 2), (&apos;perfectly&apos;, 1), (&apos;related&apos;, 1), (&apos;proud&apos;, 1), (&apos;witches&apos;, 1), (&apos;fifty&apos;, 1), (&apos;already&apos;, 1)]</span><br></pre></td></tr></table></figure>
<p>从以上可以看出，3阶显然更精确，并且third表也更小了。</p>
<p>以下为了让各位观众更清晰的看到3阶马尔科夫链的生成结果更准确，我用更加可读的输出打印出来:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">tests=[<span class="string">"i can tell"</span>, <span class="string">"who did this"</span>, <span class="string">"she was a"</span>, <span class="string">"he was a"</span>, <span class="string">"i did not"</span>,</span><br><span class="line">    <span class="string">"wanted to do"</span>, <span class="string">"you will find"</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> test <span class="keyword">in</span> tests:</span><br><span class="line">    test_words=test.split(<span class="string">" "</span>)</span><br><span class="line"></span><br><span class="line">    test_len=len(test_words)</span><br><span class="line">    last_idx=test_len<span class="number">-1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> test_len&gt;=<span class="number">3</span>:</span><br><span class="line">        tmp=test_words[last_idx<span class="number">-2</span>]+<span class="string">" "</span>+test_words[last_idx<span class="number">-1</span>]+<span class="string">" "</span>+test_words[last_idx]</span><br><span class="line">        <span class="keyword">if</span> tmp <span class="keyword">in</span> third:</span><br><span class="line">            <span class="keyword">print</span> (<span class="string">"* third order. for sequence:"</span>,tmp)</span><br><span class="line">            print_stat(third[tmp])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> test_len&gt;=<span class="number">2</span>:</span><br><span class="line">        tmp=test_words[last_idx<span class="number">-1</span>]+<span class="string">" "</span>+test_words[last_idx]</span><br><span class="line">        <span class="keyword">if</span> tmp <span class="keyword">in</span> second:</span><br><span class="line">            <span class="keyword">print</span> (<span class="string">"* second order. for sequence:"</span>, tmp)</span><br><span class="line">            print_stat(second[tmp])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> test_len&gt;=<span class="number">1</span>:</span><br><span class="line">        tmp=test_words[last_idx]</span><br><span class="line">        <span class="keyword">if</span> tmp <span class="keyword">in</span> first:</span><br><span class="line">            <span class="keyword">print</span> (<span class="string">"* first order. for word:"</span>, tmp)</span><br><span class="line">            print_stat(first[tmp])</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">""</span>)</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line">* third order. <span class="keyword">for</span> sequence: i can tell</span><br><span class="line">you <span class="number">42</span>%</span><br><span class="line">yeh <span class="number">14</span>%</span><br><span class="line">who <span class="number">7</span>%</span><br><span class="line">he <span class="number">7</span>%</span><br><span class="line">mum <span class="number">7</span>%</span><br><span class="line">* second order. <span class="keyword">for</span> sequence: can tell</span><br><span class="line">me <span class="number">25</span>%</span><br><span class="line">you <span class="number">20</span>%</span><br><span class="line">us <span class="number">10</span>%</span><br><span class="line">yeh <span class="number">5</span>%</span><br><span class="line">him <span class="number">5</span>%</span><br><span class="line">* first order. <span class="keyword">for</span> word: tell</span><br><span class="line">you <span class="number">17</span>%</span><br><span class="line">me <span class="number">14</span>%</span><br><span class="line">him <span class="number">10</span>%</span><br><span class="line">us <span class="number">7</span>%</span><br><span class="line">them <span class="number">5</span>%</span><br><span class="line"></span><br><span class="line">* second order. <span class="keyword">for</span> sequence: did this</span><br><span class="line">mean <span class="number">27</span>%</span><br><span class="line">but <span class="number">9</span>%</span><br><span class="line">year <span class="number">9</span>%</span><br><span class="line">weird <span class="number">9</span>%</span><br><span class="line">band <span class="number">9</span>%</span><br><span class="line">* first order. <span class="keyword">for</span> word: this</span><br><span class="line"><span class="keyword">is</span> <span class="number">10</span>%</span><br><span class="line">time <span class="number">6</span>%</span><br><span class="line">was <span class="number">5</span>%</span><br><span class="line">year <span class="number">2</span>%</span><br><span class="line">one <span class="number">2</span>%</span><br><span class="line"></span><br><span class="line">* third order. <span class="keyword">for</span> sequence: she was a</span><br><span class="line">witch <span class="number">12</span>%</span><br><span class="line">bit <span class="number">12</span>%</span><br><span class="line">great <span class="number">8</span>%</span><br><span class="line">very <span class="number">8</span>%</span><br><span class="line">freak <span class="number">4</span>%</span><br><span class="line">* second order. <span class="keyword">for</span> sequence: was a</span><br><span class="line">very <span class="number">3</span>%</span><br><span class="line">loud <span class="number">3</span>%</span><br><span class="line">pause <span class="number">2</span>%</span><br><span class="line">great <span class="number">2</span>%</span><br><span class="line">long <span class="number">2</span>%</span><br><span class="line">* first order. <span class="keyword">for</span> word: a</span><br><span class="line">few <span class="number">2</span>%</span><br><span class="line">little <span class="number">2</span>%</span><br><span class="line">bit <span class="number">1</span>%</span><br><span class="line">moment <span class="number">1</span>%</span><br><span class="line">very <span class="number">1</span>%</span><br><span class="line"></span><br><span class="line">* third order. <span class="keyword">for</span> sequence: he was a</span><br><span class="line">bit <span class="number">7</span>%</span><br><span class="line">good <span class="number">7</span>%</span><br><span class="line">wizard <span class="number">6</span>%</span><br><span class="line">death <span class="number">6</span>%</span><br><span class="line">big <span class="number">4</span>%</span><br><span class="line">* second order. <span class="keyword">for</span> sequence: was a</span><br><span class="line">very <span class="number">3</span>%</span><br><span class="line">loud <span class="number">3</span>%</span><br><span class="line">pause <span class="number">2</span>%</span><br><span class="line">great <span class="number">2</span>%</span><br><span class="line">long <span class="number">2</span>%</span><br><span class="line">* first order. <span class="keyword">for</span> word: a</span><br><span class="line">few <span class="number">2</span>%</span><br><span class="line">little <span class="number">2</span>%</span><br><span class="line">bit <span class="number">1</span>%</span><br><span class="line">moment <span class="number">1</span>%</span><br><span class="line">very <span class="number">1</span>%</span><br><span class="line"></span><br><span class="line">* third order. <span class="keyword">for</span> sequence: i did <span class="keyword">not</span></span><br><span class="line">want <span class="number">12</span>%</span><br><span class="line">have <span class="number">8</span>%</span><br><span class="line">know <span class="number">8</span>%</span><br><span class="line">ask <span class="number">4</span>%</span><br><span class="line">fasten <span class="number">4</span>%</span><br><span class="line">* second order. <span class="keyword">for</span> sequence: did <span class="keyword">not</span></span><br><span class="line">know <span class="number">8</span>%</span><br><span class="line">want <span class="number">7</span>%</span><br><span class="line">seem <span class="number">6</span>%</span><br><span class="line">answer <span class="number">4</span>%</span><br><span class="line">look <span class="number">3</span>%</span><br><span class="line">* first order. <span class="keyword">for</span> word: <span class="keyword">not</span></span><br><span class="line">to <span class="number">7</span>%</span><br><span class="line">be <span class="number">3</span>%</span><br><span class="line">a <span class="number">2</span>%</span><br><span class="line">have <span class="number">2</span>%</span><br><span class="line">the <span class="number">1</span>%</span><br><span class="line"></span><br><span class="line">* third order. <span class="keyword">for</span> sequence: wanted to do</span><br><span class="line">was <span class="number">33</span>%</span><br><span class="line">the <span class="number">16</span>%</span><br><span class="line">but <span class="number">8</span>%</span><br><span class="line"><span class="keyword">with</span> <span class="number">8</span>%</span><br><span class="line">his <span class="number">8</span>%</span><br><span class="line">* second order. <span class="keyword">for</span> sequence: to do</span><br><span class="line"><span class="keyword">with</span> <span class="number">20</span>%</span><br><span class="line">it <span class="number">14</span>%</span><br><span class="line">the <span class="number">4</span>%</span><br><span class="line">something <span class="number">3</span>%</span><br><span class="line">was <span class="number">2</span>%</span><br><span class="line">* first order. <span class="keyword">for</span> word: do</span><br><span class="line">you <span class="number">20</span>%</span><br><span class="line">it <span class="number">12</span>%</span><br><span class="line"><span class="keyword">not</span> <span class="number">8</span>%</span><br><span class="line"><span class="keyword">with</span> <span class="number">6</span>%</span><br><span class="line">that <span class="number">3</span>%</span><br><span class="line"></span><br><span class="line">* third order. <span class="keyword">for</span> sequence: you will find</span><br><span class="line">that <span class="number">28</span>%</span><br><span class="line">a <span class="number">14</span>%</span><br><span class="line">unless <span class="number">7</span>%</span><br><span class="line">everything <span class="number">7</span>%</span><br><span class="line">on <span class="number">7</span>%</span><br><span class="line">* second order. <span class="keyword">for</span> sequence: will find</span><br><span class="line">that <span class="number">23</span>%</span><br><span class="line">it <span class="number">14</span>%</span><br><span class="line">me <span class="number">9</span>%</span><br><span class="line">a <span class="number">9</span>%</span><br><span class="line">uses <span class="number">4</span>%</span><br><span class="line">* first order. <span class="keyword">for</span> word: find</span><br><span class="line">out <span class="number">19</span>%</span><br><span class="line">a <span class="number">8</span>%</span><br><span class="line">the <span class="number">7</span>%</span><br><span class="line">it <span class="number">5</span>%</span><br><span class="line">him <span class="number">4</span>%</span><br></pre></td></tr></table></figure>
<p>从上面的输出可以看出，i can tell 接 you这个单词的概率42%，要比can tell 接 you这个单词的概率20% 要大。显然结果就更精确了。如果调试得当，那么生成的短文结果可能还真看起来像那么回事。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><hr>
<p>最后，提示一下，first，second，third这三张表可以结合起来使用，third这张表的权重显然更高，依次类推。如果你正在做一个输入法或者聊天提示的功能，可以简单采用这样的方法，先收集用户的输入语句等信息作为训练集合，来构建这几张表，这几张表的优先级最高，优先级最低的是常用的固定成语，词语的搭配，还有流行网络用语等等。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://alexiachen.github.io/blog/2019/03/10/auto-complete-markov-chain/" data-id="cjtctqool006rufqf63bh3n14" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/自然语言处理/">自然语言处理</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/马尔科夫链/">马尔科夫链</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/blog/2019/03/17/bloom-filter/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          实现一个简单的高性能布隆过滤器
        
      </div>
    </a>
  
  
    <a href="/blog/2018/12/15/manjaro-rtl8821ce/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">manjaro下安装配置无线网卡驱动</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/blog/tags/Bloom-Filter/" style="font-size: 10px;">Bloom Filter</a> <a href="/blog/tags/C-C/" style="font-size: 20px;">C/C++</a> <a href="/blog/tags/CERT/" style="font-size: 18.33px;">CERT</a> <a href="/blog/tags/CMake/" style="font-size: 10px;">CMake</a> <a href="/blog/tags/DLL/" style="font-size: 10px;">DLL</a> <a href="/blog/tags/DNS/" style="font-size: 10px;">DNS</a> <a href="/blog/tags/IM/" style="font-size: 13.33px;">IM</a> <a href="/blog/tags/IO/" style="font-size: 10px;">IO</a> <a href="/blog/tags/Java/" style="font-size: 10px;">Java</a> <a href="/blog/tags/Linux/" style="font-size: 13.33px;">Linux</a> <a href="/blog/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/blog/tags/Oracle/" style="font-size: 10px;">Oracle</a> <a href="/blog/tags/Qos/" style="font-size: 11.67px;">Qos</a> <a href="/blog/tags/RFB协议/" style="font-size: 10px;">RFB协议</a> <a href="/blog/tags/SQLite/" style="font-size: 10px;">SQLite</a> <a href="/blog/tags/Scala/" style="font-size: 10px;">Scala</a> <a href="/blog/tags/TCP-IP/" style="font-size: 10px;">TCP/IP</a> <a href="/blog/tags/VNC协议/" style="font-size: 10px;">VNC协议</a> <a href="/blog/tags/Visual-Studio/" style="font-size: 10px;">Visual Studio</a> <a href="/blog/tags/Win32/" style="font-size: 13.33px;">Win32</a> <a href="/blog/tags/Y组合子/" style="font-size: 10px;">Y组合子</a> <a href="/blog/tags/bat/" style="font-size: 10px;">bat</a> <a href="/blog/tags/ioccc/" style="font-size: 10px;">ioccc</a> <a href="/blog/tags/lambda演算/" style="font-size: 10px;">lambda演算</a> <a href="/blog/tags/windows/" style="font-size: 11.67px;">windows</a> <a href="/blog/tags/上下文无关文法/" style="font-size: 10px;">上下文无关文法</a> <a href="/blog/tags/事业/" style="font-size: 10px;">事业</a> <a href="/blog/tags/互联网/" style="font-size: 10px;">互联网</a> <a href="/blog/tags/人生/" style="font-size: 10px;">人生</a> <a href="/blog/tags/传统行业/" style="font-size: 10px;">传统行业</a> <a href="/blog/tags/信息安全/" style="font-size: 10px;">信息安全</a> <a href="/blog/tags/内存模型/" style="font-size: 10px;">内存模型</a> <a href="/blog/tags/函数式编程/" style="font-size: 11.67px;">函数式编程</a> <a href="/blog/tags/单例模式/" style="font-size: 10px;">单例模式</a> <a href="/blog/tags/双向链表/" style="font-size: 10px;">双向链表</a> <a href="/blog/tags/可计算性/" style="font-size: 10px;">可计算性</a> <a href="/blog/tags/同步异步/" style="font-size: 10px;">同步异步</a> <a href="/blog/tags/团队管理/" style="font-size: 11.67px;">团队管理</a> <a href="/blog/tags/多核编程/" style="font-size: 10px;">多核编程</a> <a href="/blog/tags/多线程编程/" style="font-size: 10px;">多线程编程</a> <a href="/blog/tags/天体物理/" style="font-size: 10px;">天体物理</a> <a href="/blog/tags/套路/" style="font-size: 10px;">套路</a> <a href="/blog/tags/学术/" style="font-size: 10px;">学术</a> <a href="/blog/tags/宇宙学/" style="font-size: 10px;">宇宙学</a> <a href="/blog/tags/性能优化/" style="font-size: 10px;">性能优化</a> <a href="/blog/tags/技术/" style="font-size: 10px;">技术</a> <a href="/blog/tags/指令重排序/" style="font-size: 10px;">指令重排序</a> <a href="/blog/tags/操作系统/" style="font-size: 10px;">操作系统</a> <a href="/blog/tags/敏捷开发/" style="font-size: 10px;">敏捷开发</a> <a href="/blog/tags/数据压缩/" style="font-size: 10px;">数据压缩</a> <a href="/blog/tags/数据库/" style="font-size: 10px;">数据库</a> <a href="/blog/tags/数据恢复/" style="font-size: 10px;">数据恢复</a> <a href="/blog/tags/数据结构与算法/" style="font-size: 11.67px;">数据结构与算法</a> <a href="/blog/tags/旅行/" style="font-size: 10px;">旅行</a> <a href="/blog/tags/无线网卡/" style="font-size: 10px;">无线网卡</a> <a href="/blog/tags/有限自动机/" style="font-size: 10px;">有限自动机</a> <a href="/blog/tags/构建工具/" style="font-size: 10px;">构建工具</a> <a href="/blog/tags/模板元编程/" style="font-size: 10px;">模板元编程</a> <a href="/blog/tags/民主/" style="font-size: 11.67px;">民主</a> <a href="/blog/tags/汇编语言/" style="font-size: 10px;">汇编语言</a> <a href="/blog/tags/消息推送/" style="font-size: 10px;">消息推送</a> <a href="/blog/tags/混乱代码/" style="font-size: 10px;">混乱代码</a> <a href="/blog/tags/物联网/" style="font-size: 10px;">物联网</a> <a href="/blog/tags/猎人/" style="font-size: 10px;">猎人</a> <a href="/blog/tags/理想/" style="font-size: 10px;">理想</a> <a href="/blog/tags/理论计算机/" style="font-size: 10px;">理论计算机</a> <a href="/blog/tags/生活/" style="font-size: 13.33px;">生活</a> <a href="/blog/tags/研究/" style="font-size: 10px;">研究</a> <a href="/blog/tags/程序语言理论/" style="font-size: 15px;">程序语言理论</a> <a href="/blog/tags/类型系统/" style="font-size: 10px;">类型系统</a> <a href="/blog/tags/线程/" style="font-size: 10px;">线程</a> <a href="/blog/tags/线程安全/" style="font-size: 10px;">线程安全</a> <a href="/blog/tags/缓存/" style="font-size: 10px;">缓存</a> <a href="/blog/tags/编程范式/" style="font-size: 10px;">编程范式</a> <a href="/blog/tags/编程语言/" style="font-size: 10px;">编程语言</a> <a href="/blog/tags/编译原理/" style="font-size: 11.67px;">编译原理</a> <a href="/blog/tags/美国/" style="font-size: 10px;">美国</a> <a href="/blog/tags/职业生涯/" style="font-size: 10px;">职业生涯</a> <a href="/blog/tags/自然语言处理/" style="font-size: 10px;">自然语言处理</a> <a href="/blog/tags/自由/" style="font-size: 11.67px;">自由</a> <a href="/blog/tags/英语/" style="font-size: 10px;">英语</a> <a href="/blog/tags/装修/" style="font-size: 10px;">装修</a> <a href="/blog/tags/计算机体系结构/" style="font-size: 10px;">计算机体系结构</a> <a href="/blog/tags/计算机科学/" style="font-size: 10px;">计算机科学</a> <a href="/blog/tags/计算机网络/" style="font-size: 11.67px;">计算机网络</a> <a href="/blog/tags/计算理论/" style="font-size: 11.67px;">计算理论</a> <a href="/blog/tags/词法分析/" style="font-size: 10px;">词法分析</a> <a href="/blog/tags/诗歌/" style="font-size: 10px;">诗歌</a> <a href="/blog/tags/语义学/" style="font-size: 10px;">语义学</a> <a href="/blog/tags/调试/" style="font-size: 11.67px;">调试</a> <a href="/blog/tags/软件工程/" style="font-size: 16.67px;">软件工程</a> <a href="/blog/tags/软件开发/" style="font-size: 10px;">软件开发</a> <a href="/blog/tags/软件调试/" style="font-size: 10px;">软件调试</a> <a href="/blog/tags/远程桌面/" style="font-size: 10px;">远程桌面</a> <a href="/blog/tags/逻辑/" style="font-size: 11.67px;">逻辑</a> <a href="/blog/tags/重构/" style="font-size: 10px;">重构</a> <a href="/blog/tags/错误处理/" style="font-size: 10px;">错误处理</a> <a href="/blog/tags/闭包/" style="font-size: 10px;">闭包</a> <a href="/blog/tags/阻塞非阻塞/" style="font-size: 10px;">阻塞非阻塞</a> <a href="/blog/tags/项目管理/" style="font-size: 11.67px;">项目管理</a> <a href="/blog/tags/马尔科夫链/" style="font-size: 10px;">马尔科夫链</a> <a href="/blog/tags/驱动开发/" style="font-size: 10px;">驱动开发</a> <a href="/blog/tags/黑洞/" style="font-size: 10px;">黑洞</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2015/11/">November 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2014/11/">November 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2014/09/">September 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2014/08/">August 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2014/07/">July 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2014/06/">June 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2014/05/">May 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2014/03/">March 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2014/02/">February 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2013/07/">July 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2013/06/">June 2013</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2019/03/17/bloom-filter/">实现一个简单的高性能布隆过滤器</a>
          </li>
        
          <li>
            <a href="/blog/2019/03/10/auto-complete-markov-chain/">用马尔科夫链来做自动补全</a>
          </li>
        
          <li>
            <a href="/blog/2018/12/15/manjaro-rtl8821ce/">manjaro下安装配置无线网卡驱动</a>
          </li>
        
          <li>
            <a href="/blog/2018/11/11/cpp-closure/">C++的闭包</a>
          </li>
        
          <li>
            <a href="/blog/2018/10/15/finite-automaton/">最简单的计算机之有限自动机</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2013-2019 MathxH Chen<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/blog/about" class="mobile-nav-link">About</a>
  
    <a href="/blog/resume" class="mobile-nav-link">Resume</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js"></script>



  </div>
</body>
</html>